import { Middleware, Context as TelegrafContext } from 'telegraf';
import { ContextFunc, ContextNextFunc } from './generic-types';
import ActionCode from './action-code';
declare type MenuFunc = (ctx: TelegrafContext, reason: string) => Promise<void>;
export interface Responder {
    middleware: ContextNextFunc;
    action?: ActionCode;
    only?: ContextFunc<boolean>;
    hide?: ContextFunc<boolean>;
    setMenuAfter?: boolean;
    setParentMenuAfter?: boolean;
}
interface ResponderEnvironment {
    actionCode: ActionCode;
    setMenuFunc: MenuFunc;
    setParentMenuFunc?: MenuFunc;
}
export default class MenuResponders {
    readonly responders: Responder[];
    add(responder: Responder): void;
    hasSomeNonActionResponders(): boolean;
    createMiddleware(environment: ResponderEnvironment): Middleware<TelegrafContext>;
}
export declare function createMiddlewareFromResponder(responder: Responder, environment: ResponderEnvironment): ContextNextFunc;
export {};
